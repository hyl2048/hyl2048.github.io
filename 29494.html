<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="On Java 8, huang"><meta name="description" content=""><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><script async src="https://www.googletagmanager.com/gtag/js?id="></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","")</script><title>On Java 8 | huang</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" href="/libs/awesome/css/all.css"><link rel="stylesheet" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" href="/libs/aos/aos.css"><link rel="stylesheet" href="/libs/animate/animate.min.css"><link rel="stylesheet" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="/css/matery.css"><link rel="stylesheet" href="/css/my.css"><script src="/libs/jquery/jquery.min.js"></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="huang" type="application/atom+xml"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="/medias/logo.png" class="logo-img" alt="LOGO"> <span class="logo-span">huang</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>留言板</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="/medias/logo.png" class="logo-img circle responsive-img"><div class="logo-name">huang</div><div class="logo-desc">Never really desperate, only the lost of the soul.</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> 留言板</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li><div class="divider"></div></li><li><a href="https://github.com/hyl2048" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/hyl2048" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(/medias/featureimages/21.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">On Java 8</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{height:calc(100vh - 250px);overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px}#toc-content .is-active-link{color:#42b983}#toc-content .is-active-link::before{background-color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><span class="chip bg-color">无标签</span></div></div><div class="col s5 right-align"></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> 发布日期:&nbsp;&nbsp; 2020-07-24</div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><h2 id="万物皆对象"><a href="#万物皆对象" class="headerlink" title="万物皆对象"></a>万物皆对象</h2><p>​ 把万物看作对象，对象之间在传递信息。</p><p>​ 对象的创建，对象的存储（数量、类型），对象之间的关系处理（对象间传递信息），对象的销毁，异常处理</p><h2 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h2><h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>​ Java 为单继承语言，有别于多继承的C++</p><h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>​ 多样式与向上转型</p><p>​ 多态和构造器</p><p>​ <strong>多态的好处</strong>在于解耦</p><h2 id="复用"><a href="#复用" class="headerlink" title="复用"></a>复用</h2><p>​ 组合和继承</p><p>​ 构造器加载顺序（对比销毁顺序）</p><h2 id="接口与抽象类"><a href="#接口与抽象类" class="headerlink" title="接口与抽象类"></a>接口与抽象类</h2><p>​ 接口为抽象类</p><p>​ 接口被用来建立类之间的协议</p><p>​ 接口中的守卫方法或虚拟扩展方法（default）</p><p>​ 类可以实现多个接口，但是抽象类只能继承单一抽象类</p><p>​ 面向接口编程，将接口与实现解耦可以应用于多种不同的实现</p><p>​ 选择问题：</p><p>​ 尽可能地抽象，更倾向使用接口而非抽象类</p><p>​ 接口和策略模式</p><p>​ 接口和工厂模式</p><p>​ 优先使用类而不是接口，若有必要使用接口，再对代码重构也不迟。如果只是单纯为了设计接口而设计接口，只会徒增复杂性。</p><h2 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h2><p>​ 内部自动类拥有对外部类所有成员的访问权，外部类与内部类产生的引用</p><p>​ 匿名内部类，与正规的继承相比有些受限，因为匿名内部类既可以扩展类，也可以实现接口，但是不能两者兼备，而如果是实现接口，也只能实现一个接口。</p><p>​ 嵌套类</p><p>​ <strong>内部类有效地实现了多重继承</strong>，每个内部类都能独立地继承自一个（接口的）实现，所以无论外部类是否已经继承了某个（接口的）实习，对于内部类都没有影响</p><p>​ 内部类的其他特性：</p><p>​ 内部类可以有多个实例</p><p>​ 再单个外部类中，可以让多个内部类以不同的方 式实现</p><p>​ 创建内部类对象的时刻并不依赖于外部类对象的 创建</p><p>​ 内部类并没有令人迷惑的“is-a”关系，它就是一个独立的实体</p><p>​ 内部类提供的闭包功能，相比指针更灵活更安全</p><p>​ 回调的价值在于它的灵活性-可以再运行时动态地决定需要调用什么方法</p><p>​ 在控制框架使用内部类的价值</p><p>​ 局部内部类和匿名内部类</p><p>设计模式总是将变化的事物与保持不变的事物分离开，在这个模式中，模板方法是保持不变的事物，而可覆盖的方法就是变化的事物</p><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>​ <strong>持有对象</strong>的思想</p><p>​ 泛型与类型安全的集合</p><p>​ 散列码和hashCode()</p><p>​ List可以在创建后添加或删除元素，并自行调整大小</p><p>​ collection</p><p>​ 迭代器，能够将遍历序列的操作与该序列的底层结构分离</p><p>​ for-in 和迭代器</p><p>​ 集合和迭代器</p><p>​ <img src="F:%5CBlog%5Csource_posts%5COn-Java-8%5Ccollection.png" alt="collection"></p><p>​</p><p>​ 上图中用粗黑的框包裹的类为常用的类</p><p><img src="F:%5CBlog%5Csource_posts%5COn-Java-8%5Ccollection1.png" alt="collection1"></p><p><img src="F:%5CBlog%5Csource_posts%5COn-Java-8%5Cmap.png" alt="map"></p><h2 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h2><p>​ lambda表达式</p><p>​ 方法引用</p><p>​ 函数式接口：</p><p>​ 在使用函数式接口时，名称无关紧要，只要参数类型和返回类型相同</p><p>​ 高阶函数</p><p>​ 闭包，利用闭包可以轻松生成函数。支持闭包也叫变量捕获。只要有内部类就会有闭包</p><p>​ 等同final效果</p><p>​ 函数组合，多个还能输组合成新函数</p><p>​ 柯里化和部分求值</p><p>​ 柯里化，将一个多参数函数转换为一系列单参数函数</p><p>​ 纯函数式编程，Scala，Clojure</p><h2 id="流式编程"><a href="#流式编程" class="headerlink" title="流式编程"></a>流式编程</h2><p>​ 集合优化了对象的存储，而流和对象有关。流是一系列与特定存储机制无关的元素。利用流，可以不迭代集合中的元素，就可以提取和操作数据。<strong>流的好处是，它使得程序更加短小和容易理解</strong>。</p><p>​ Lambda表达式和方法引用结合流式编程会更加简便、简洁。</p><p>​ 流式编程是一种声明式编程，声明要做什么，而非怎么做的编程风格。</p><p>​ 流式编程采用内部迭代。</p><p>​ 流是懒加载的。</p><p>​ 流操作，创建流，修该流元素，消费流元素</p><p>​ 创建流：</p><p>​ stream.of(); stream(); 集合通过stream()方法来产生一个流。</p><p>​ 中级流操作</p><p>​ optional类</p><p>​ 终端操作</p><h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p>​ 异常处理程序，不仅能节省代码，而且把“描述在正常执行剁成中做什么事”和“出了问题怎么办”的代码相分离。异常机制使代码的阅读、编写和调试工作更加井井有条。</p><p>​ 基本异常</p><p>​ 异常捕获</p><p>​ 自定义异常</p><p>​ 异常声明</p><p>​ 重新抛出异常</p><p>​ 异常链</p><p>​ Java标准异常</p><p>​ finally 用于把除内存之外的资源恢复到他们初始状态时。如果把finally子句和带标签的break及continue配合使用，在Java里就没必要使用goto语句了</p><p>​ 异常丢失</p><p>​ 异常限制</p><p>​ 构造器和异常处理</p><p>​ Try-With-Resources和构造器异常处理</p><p>​ 异常匹配</p><p>​ 异常处理的一个重要原则是“只有在你知道如何处理的情况下才捕获异常”。异常处理的一个中哟啊目标就是把错误处理的代码同错误发生的地点相分离。</p><p>​ <strong>吞了异常</strong></p><p>​ 被检查的异常与并发症</p><p>​ 所有模型都是错误的，但有些是 能用的。</p><p>​ 反射和泛型就是用来补偿静态类型检查所带来的过多限制。</p><p>​ 好的程序设计语言能帮助程序员写出好程序，但无论哪种语言都避免不了程序员用它写出坏程序。</p><p>​ 把被检查的异常转换为不检查的异常</p><p>​ 异常链</p><p>​ 用RuntimeException来包装，被检查的异常</p><p>​ 异常指南</p><p>​ 1.尽可能使用 try-with-resource。</p><p>​ 2.在恰当的级别处理问题。（在知道该如何处理的情况下才捕获异常。）</p><p>​ 3.解决问题并且重新调用产生异常的方法。</p><p>​ 4.进行少许修补，然后绕过异常发生的地方继续执行。</p><p>​ 5.用别的数据进行计算，以代替方法预计会返回的值。</p><p>​ 6.把当前运行环境下能做的事情尽量做完，然后把相同的异常重抛到更高层。</p><p>​ 7.把当前运行环境下能做的事情尽量做完，然后把不同的异常抛到更高层。</p><p>​ 8.终止程序。</p><p>​ 9.进行简化。（如果你的异常模式使问题变得太复杂，那用起来会非常痛苦也很烦人。）</p><p>​ 10.让类库和程序更安全。（这既是在为调试做短期投资，也是在为程序的健壮性做长期投资。）</p><p>​ 报告功能是异常的精髓所在</p><h2 id="代码校验"><a href="#代码校验" class="headerlink" title="代码校验"></a>代码校验</h2><p>让代码健壮的方法</p><p>​ 测试</p><p>​ 单元测试</p><p>​ 前置条件（契约式设计DBC）</p><p>​ 断言</p><p>​ Java断言语法</p><p>​ Guava断言</p><p>​ 检查指令</p><p>​ 测试驱动开发（TDD）</p><p>​ 日志</p><p>​ 调试</p><p>​ JDB、图形化调试器</p><p>​ 基准测试</p><p>​ 剖析和优化</p><p>​ 剖析和优化</p><p>​ 优化准则</p><p>​ 避免为了性能牺牲代码的可读性。</p><p>​ 不要独立地看待性能。衡量与带来的收益相 比所需投入的工作量。</p><p>​ 程序的大小很重要。性能优化通常只对运行 了长时间的大型项目有价值。性能通常不是小项 目的关注点。</p><p>​ 运行起来程序比一心钻研它的性能具有更高 的优先级。一旦你已经有了可工作的程序，如有 必要的话，你可以使用剖析器提高它的效率。只 有当性能是关键因素时，才需要在设计/开发阶段 考虑性能。</p><p>​ 不要猜测瓶颈发生在哪。运行剖析器，让剖 析器告诉你。</p><p>​ 无论何时有可能的话，显式地设置实例为 null 表明你不再用它。这对垃圾收集器来说是个 有用的暗示。</p><p>​ <strong>static final</strong> 修饰的变量会被 JVM 优化从而 提高程序的运行速度。因而程序中的常量应该声 明 <strong>static final</strong>。</p><p>​ 风格检测</p><p>​ 静态错误分析</p><p>​ 代码重审</p><p>​ 结对编程</p><p>​ 重构：</p><p>​ 重构基石：</p><p>​ 测试</p><p>​ 自动构建</p><p>​ 版本控制</p><p>​ 持续集成</p><p>​ 持续集成服务器</p><p>​ 持续集成需要分布式版本管理，自动构建和自动 测测试系统作为基础</p><h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><p>​ 流与文件结合使得文件操作编程变得更加优雅</p><p>​ 文件和目录路径</p><p>​ 选取部分路径片段</p><p>​ 路径分析</p><p>​ FIile工具类</p><p>​ 文件系统</p><p>​ 路径监听</p><p>​ 文件删除和线程</p><p>​ 文件查找</p><p>​ 文件读写</p><p>​</p><p>​ java.nio.file</p><p>​ java.nio.file.Files</p><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>​ 字符串的不可变</p><p>​ 参数是为该方法提供信息的，而不是想让该方法 改变自己的</p><p>​ +的重载与StringBuilder</p><p>​ 不可变性与效率，string与stringbuilder类</p><p>​ 在有循环且有性能问题时，使用stringbuilder类</p><p>​ stringbuffer与stringbuilder，stringbuffer是线 程安全的，因此开销会大一些。</p><p>​ 意外递归</p><p>​ 打印对象内存地址，使用super.tostring()，而不 去使用this, 使用this会发生自动类型转换、递归调用</p><p>​ 字符串操作</p><p>​ 当需要改变字符串的内容时，<code>String</code> 类的方法 都会返回一个新的 <code>String</code> 对象。同时，如果内容不 改变，<code>String</code> 方法只是返回原始对象的一个引用而 已。这可以节约存储空间以及避免额外的开销</p><p>​ 在 Java 中，字符串操作还主要集中于<code>String</code>、 <code>StringBuffer</code> 和 <code>StringTokenizer</code> 类</p><p>​ 格式化输出</p><p>​ printf()</p><p>​ System.out.format()</p><p>​ Formatter类，</p><p>​ 在 Java 中，所有的格式化功能都是由 <code>java.util.Formatter</code> 类处理的。</p><p>​ 格式化修饰符</p><p>​ <code>Formatter</code> 转换</p><p>​ 还有许多不常用的类型转换与格式修饰符选 项，你可以在 JDK 文档中的 <code>Formatter</code> 类部分 找到它们。</p><p>​ String.format()</p><p>​ 在 <code>String.format()</code> 内部，它也是创建了 一个 <code>Formatter</code> 对象，然后将你传入的参数转 给 <code>Formatter</code>。不过，与其自己做这些事情，不 如使用便捷的 <code>String.format()</code> 方法，何况这 样的代码更清晰易读。</p><p>​ 一个十六进制转储（dump）工具</p><p>​ 为了打开及读入二进制文件，我们用到了另一个 工具 <code>Files.readAllBytes()</code>，这已经在 <a href="">Files章节</a> 介绍过了。这里的 <code>readAllBytes()</code> 方法将整个文件 以 <code>byte</code> 数组的形式返回</p><p>​ 正则表达式</p><p>​ 处理string的匹配、选择、编辑以及验证</p><p>​ <code>String.split()</code> 还有一个重载的版本，它允许 你限制字符串分割的次数</p><p>​ 创建正则表达式</p><p>​ 正则表达式的完整构造子列表，请参考JDK文档 <code>java.util.regex</code> 包中的 <code>Pattern</code>类</p><p>​ 当你学会了使用字符类（character classes）之 后，正则表达式的威力才能真正显现出来</p><p>​ 量词</p><p>​ 量词描述了一个模式捕获输入文本的方式</p><p>​ CharSequence</p><p>​ 接口 <code>CharSequence</code> 从 <code>CharBuffer</code>、 <code>String</code>、<code>StringBuffer</code>、<code>StringBuilder</code> 类中抽象 出了字符序列的一般化定义</p><p>​ Pattern<code>和</code>Matcher</p><p>​ java.util.regext.Matcher</p><p>​ <code>find()</code></p><p>​ <code>Matcher.find()</code> 方法可用来在 <code>CharSequence</code> 中查找多个匹配</p><p>​ start()<code>和</code>end()</p><p>​ <code>Pattern</code> 标记</p><p>​ split()</p><p>​ 替换操作</p><p>​ reset()</p><p>​ 正则表达式与 Java I/O</p><p>​ 扫描输入</p><p>​ <code>Scanner</code> 分隔符</p><p>​ StringTokenizer类</p><p>​ 在 Java 引入正则表达式（J2SE1.4）和 <code>Scanner</code> 类（Java SE5）之前，分割字符 串的唯一方法是使用 <code>StringTokenizer</code> 来 分词。不过，现在有了正则表达式和 <code>Scanner</code>，我们可以使用更加简单、更加简洁 的方式来完成同样的工作了</p><p>​ 基本上，我们可以放心地说， <code>StringTokenizer</code> 已经可以废弃不用了。</p><h2 id="类型信息"><a href="#类型信息" class="headerlink" title="类型信息"></a>类型信息</h2><p>​ java如何在运行时识别对象和类信息：</p><p>​ “传统的”RTTI（运行时类型信息）</p><p>​ 使用 RTTI，我们可以查询某个 <code>Shape</code> 引用所指向对象的确切类型， 然后择或者剔除特例。</p><p>​ “反射”机制：允许我们在运行时发现和 使用类信息。</p><p>​ <code>Class</code> 对象</p><p>​ 类加载器</p><p>​ 原生类加载器与额外的类加载器</p><p>​ <code>Class</code> 对象仅在需要的时候才会被 加载，<code>static</code> 初始化是在类加载时进 行的</p><p>​ 无论何时，只要你想在运行时使用 类型信息，就必须先得到那个 <code>Class</code> 对 象的引 用。<code>Class.forName()</code> 就是 实现这个功能的一个便捷途径，因为使 用该方法你不需要先持有这个类型 的对 象。但是，如果你已经拥有了目标类的 对象，那就可以通过调用 <code>getClass()</code> 方法来获取 <code>Class</code> 引用了，这个方法来 自根类 <code>Object</code>，它将返回表示该对象 实际类型的 <code>Class</code> 对象的引用</p><p>​ <code>Class</code> 对象的 <code>newInstance()</code> 方 法是实现“虚拟构造器”的一种途径，虚 拟构造器可以让你在不知道一个类的确 切类型的时候，创建这个类的对象</p><p>​ 类字面常量</p><p>​ 类字面常量用于生成类对象的引用</p><p>​ 为了使用类而做的准备工作实际包含三 个步骤</p><p>​ 加载：这是由类加载器执行的。该步骤 将查找字节码（通常在 classpath 所指定的 路径中查找，但这并非是必须的），并从这 些字节码中创建一个 <code>Class</code> 对象</p><p>​ 链接：在链接阶段将验证类中的字节 码，为 <code>static</code> 字段分配存储空间，并且如 果需要的话，将解析这个类创建的对其他类 的所有引用。</p><p>​ 初始化：如果该类具有超类，则先初始 化超类，执行 <code>static</code> 初始化器和 <code>static</code> 初始化块。</p><p>​ 仅使用 <code>.class</code> 语法来获得对类对象的 引用不会引发初始化。但与此相反，使用 <code>Class.forName()</code> 来产生 <code>Class</code> 引用会 立即就进行初始化</p><p>​ 泛化的 <code>Class</code> 引用</p><p>​ 向 <code>Class</code> 引用添加泛型语法的原因只是 为了提供编译期类型检查</p><p>​ <code>cast()</code> 方法</p><p>​ Java 中用于 <code>Class</code> 引用的转型语 法</p><p>​ 类型转换检测</p><p>​ 已知的 RTTI 类型</p><p>​ 传统的类型转换，如 “<code>(Shape)</code>”， 由 RTTI 确保转换的正确性，如果执行了 一个 错误的类型转换，就会抛出一 个 <code>ClassCastException</code> 异常。</p><p>​ 代表对象类型的 <code>Class</code> 对象. 通过 查询 <code>Class</code> 对象可以获取运行时所需的 信息.</p><p>​ RTTI 在 Java 中还有第三种形式，那就 是关键字 <code>instanceof</code></p><p>​ 使用类字面量</p><p>​ 一个动态 <code>instanceof</code> 函数</p><p>​ 递归计数</p><p>​ 注册工厂</p><p>​ 类的等价比较</p><p>​ 反射：运行时类信息</p><p>​ 类方法提取器</p><p>​ 动态代理</p><h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><h2 id="并发编程"><a href="#并发编程" class="headerlink" title="并发编程"></a>并发编程</h2><h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><p>​</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>​ 类层次结构</p><p>​ 除了内存清理之外，所有的清理都不会自动发生</p><p>​</p><p>​</p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者:</i></span> <span class="reprint-info"><a href="https://github.com/hyl2048" rel="external nofollow noreferrer">yulin</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接:</i></span> <span class="reprint-info"><a href="https://github.com/hyl2048/29494.html">https://github.com/hyl2048/29494.html</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明:</i></span> <span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="https://github.com/hyl2048" target="_blank">yulin</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><span class="chip bg-color">无标签</span></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><link rel="stylesheet" href="/libs/gitalk/gitalk.css"><link rel="stylesheet" href="/css/my-gitalk.css"><div class="card gitalk-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="gitalk-container" class="card-content"></div></div><script src="/libs/gitalk/gitalk.min.js"></script><script>let gitalk = new Gitalk({
        clientID: 'd55da70ade593eb887d8',
        clientSecret: 'e73646d4d0e5dc1c94985ad0a4a683c509c4b0b1',
        repo: 'hyl2048.github.io',
        owner: 'hyl2048',
        admin: "hyl2048",
        id: '2020-07-24T21-58-51',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');</script><style>.valine-card{margin:1.5rem auto}.valine-card .card-content{padding:20px 20px 5px 20px}#vcomments textarea{box-sizing:border-box;background:url("") 100% 100% no-repeat}#vcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem}#vcomments blockquote p{text-indent:.2rem}#vcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#vcomments img{max-width:100%;height:auto;cursor:pointer}#vcomments ol li{list-style-type:decimal}#vcomments ol,ul{display:block;padding-left:2em;word-spacing:.05rem}#vcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#vcomments ul li{list-style-type:disc}#vcomments ul ul li{list-style-type:circle}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#vcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#vcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#vcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#vcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#vcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#vcomments h6{font-size:1rem;line-height:1.3rem}#vcomments p{font-size:1rem;line-height:1.5rem}#vcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#vcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#vcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#vcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#vcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#vcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#vcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#vcomments b,strong{font-weight:700}#vcomments dfn{font-style:italic}#vcomments small{font-size:85%}#vcomments cite{font-style:normal}#vcomments mark{background-color:#fcf8e3;padding:.2em}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card valine-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="vcomments" class="card-content" style="display:grid"></div></div><script src="/libs/valine/av-min.js"></script><script src="/libs/valine/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"Q7ieo9PSWwtIK9dt4KyeSH0w-gzGzoHsz",appKey:"MEHtfyfhw8wH8P6tTgmu5Ag0",notify:!1,verify:!1,visitor:!0,avatar:"wavatar",pageSize:"10",lang:"zh-cn",placeholder:"just go go"})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i> &nbsp;上一篇</div><div class="card"><a href="/41682.html"><div class="card-image"><img src="/medias/featureimages/17.jpg" class="responsive-img" alt="设计模式"> <span class="card-title">设计模式</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2020-07-25</span><span class="publish-author"><i class="fas fa-user fa-fw"></i> yulin</span></div></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/51507.html"><div class="card-image"><img src="/medias/featureimages/23.jpg" class="responsive-img" alt="算法与数据结构"> <span class="card-title">算法与数据结构</span></div></a><div class="card-content article-content"><div class="summary block-with-text">栈​ 问题类型： ​ 修改栈 ​ 递归与栈 ​ 树 ​ 利用栈实现队列 ​ 解法类型： ​</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2020-07-23</span><span class="publish-author"><i class="fas fa-user fa-fw"></i> yulin</span></div></div></div></div></div></article></div><script>$("#articleContent").on("copy",function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("120"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"===n.getRangeAt(0).commonAncestorContainer.nodeName&&(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: huang<br />文章作者: yulin<br />文章链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout(function(){t.removeChild(o)},200)}}})</script><script src="/libs/codeBlock/codeBlockFuction.js"></script><script src="/libs/codeBlock/codeLang.js"></script><script src="/libs/codeBlock/codeCopy.js"></script><script src="/libs/codeBlock/codeShrink.js"></script><style>code[class*=language-],pre[class*=language-]{white-space:pre!important}</style></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["(",")"]]}})</script><footer class="page-footer bg-color"><link rel="stylesheet" href="/libs/aplayer/APlayer.min.css"><style>.aplayer .aplayer-lrc p{font-size:12px;font-weight:700;line-height:16px!important}.aplayer .aplayer-lrc p.aplayer-lrc-current{font-size:15px;color:#42b983}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><div><div><meting-js class="col l8 offset-l2 m10 offset-m1 s12" server="netease" type="playlist" id="503838841" fixed="true" autoplay theme="#42b983" loop order="random" preload="auto" volume="0.7" list-folded="true"></meting-js></div></div><script src="/libs/aplayer/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><div class="container row center-align"><div class="col s12 m8 l8 copy-right">&copy;huang. 版权所有 &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp; <span class="white-color">7.5k</span><br><span id="sitetime"></span><br><span id="busuanzi_container_site_pv" style="display:none"><i class="fa fa-heart-o"></i> 本站总访问量<span id="busuanzi_value_site_pv" class="white-color"></span></span> <span id="busuanzi_container_site_uv" style="display:none">人次,&nbsp;访客数<span id="busuanzi_value_site_uv" class="white-color"></span> 人.</span></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/hyl2048" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:qhuang724@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2745506937" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2745506937" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><script>$(document).ready(function(){var e=setInterval(function(){"none"!=document.getElementById("busuanzi_container_site_pv").style.display&&($("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html())+n),clearInterval(e));"none"!=$("#busuanzi_container_site_pv").css("display")&&($("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html())+t),clearInterval(e))},50),n=0,t=0})</script><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=36e5,t=24*e,o=new Date,i=o.getFullYear(),a=o.getMonth()+1,n=o.getDate(),r=o.getHours(),l=o.getMinutes(),s=o.getSeconds(),M=Date.UTC(2020,3,28,0,0,0),g=Date.UTC(i,a,n,r,l,s)-M,m=Math.floor(g/31536e6),T=Math.floor(g/t-365*m),f=Math.floor((g-(365*m+T)*t)/e),h=Math.floor((g-(365*m+T)*t-f*e)/6e4),u=Math.floor((g-(365*m+T)*t-f*e-6e4*h)/1e3);document.getElementById("sitetime").innerHTML="本站已运行 "+m+" 年 "+T+" 天 "+f+" 小时 "+h+" 分钟 "+u+" 秒"}siteTime()</script><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script src="/js/search.js"></script><script>$(function(){searchFunc("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/libs/others/clicklove.js" async></script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script src="/libs/instantpage/instantpage.js" type="module"></script></body></html>